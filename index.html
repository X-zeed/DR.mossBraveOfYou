<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Periodic Table</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        /* ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ: ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å Gradient ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß (Solid Color) */
        --bg-solid: #6a78d1;

        --card-bg: rgba(255, 255, 255, 0.95);
        --primary: #6c63ff;
        --primary-dark: #5a52d5;
        --success: #00b894;
        --warning: #fdcb6e;
        --danger: #ff7675;
        --text: #2d3436;
        --text-light: #636e72;
      }

      * {
        box-sizing: border-box;
      }

      body {
        font-family: "Poppins", sans-serif;
        background: var(--bg-solid); /* ‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏µ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß */
        color: var(--text);
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        margin: 0;
        padding: 15px;
        overflow-x: hidden;
        overflow-y: auto;
      }

      /* Background Animation - ‡∏¢‡∏±‡∏á‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏•‡∏π‡∏Å‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏ö‡∏≤‡πÜ */
      body::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 150%;
        height: 150%;
        background: url("https://www.transparenttextures.com/patterns/cubes.png");
        opacity: 0.08; /* ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏±‡∏î‡∏•‡∏á‡∏ô‡∏¥‡∏î‡∏´‡∏ô‡πà‡∏≠‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏™‡∏µ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß */
        animation: moveBg 60s linear infinite;
        z-index: -1;
        pointer-events: none;
      }

      @keyframes moveBg {
        0% {
          transform: translate(0, 0);
        }
        100% {
          transform: translate(-50px, -50px);
        }
      }

      /* --- Main Card Responsive --- */
      #game-container {
        background: var(--card-bg);
        padding: 2.5rem;
        border-radius: 24px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2); /* ‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏≤‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡∏ô‡∏¥‡∏î‡∏´‡∏ô‡πà‡∏≠‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏î‡∏Å‡∏±‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á */
        width: 100%;
        max-width: 480px;
        text-align: center;
        position: relative;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.5);
        transition: all 0.3s ease;
      }

      h1 {
        color: var(--primary);
        font-weight: 800;
        margin-bottom: 0.5rem;
        letter-spacing: -1px;
        font-size: clamp(1.5rem, 5vw, 2.2rem);
      }

      p {
        color: var(--text-light);
        font-size: 0.95rem;
      }

      /* Stats Bar */
      .stats-bar {
        display: flex;
        justify-content: space-between;
        margin-bottom: 1.5rem;
        padding: 10px 15px;
        background: #f1f2f6;
        border-radius: 12px;
        font-weight: 600;
        font-size: 0.85rem;
        color: var(--text);
      }

      .stat-item span {
        color: var(--primary);
        font-size: 1.1rem;
      }

      /* Timer */
      #timer-container {
        width: 100%;
        height: 10px;
        background: #dfe6e9;
        border-radius: 10px;
        margin-bottom: 1.5rem;
        overflow: hidden;
      }

      #timer-bar {
        height: 100%;
        width: 100%;
        background: linear-gradient(90deg, var(--success), #55efc4);
        border-radius: 10px;
        transition:
          width 0.1s linear,
          background 0.3s ease;
      }

      /* Question Box */
      .question-box {
        margin-bottom: 1.5rem;
        display: flex;
        flex-direction: column;
        align-items: center;
        min-height: 160px;
        justify-content: center;
      }

      .question-text {
        font-size: 1.1rem;
        margin-bottom: 1rem;
        font-weight: 600;
      }

      /* Element Tile */
      .element-tile {
        width: 120px;
        height: 120px;
        background: linear-gradient(145deg, #ffffff, #f0f0f0);
        border: 3px solid var(--text);
        border-radius: 12px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        box-shadow:
          5px 5px 15px rgba(0, 0, 0, 0.1),
          -5px -5px 15px rgba(255, 255, 255, 0.8);
        margin-bottom: 1rem;
        transition: all 0.3s;
      }

      .target-val {
        font-size: 3.5rem;
        font-weight: 800;
        color: var(--text);
        line-height: 1;
      }

      .target-text-only {
        font-size: clamp(1.5rem, 4vw, 1.8rem);
        font-weight: 700;
        color: var(--primary);
      }

      /* Inputs */
      .input-area {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        align-items: center;
        width: 100%;
      }

      select,
      input {
        padding: 0.9rem;
        font-size: 1rem;
        border: 2px solid #dfe6e9;
        border-radius: 12px;
        width: 100%;
        outline: none;
        transition: all 0.3s ease;
        background-color: #fff;
        font-family: "Poppins", sans-serif;
        color: var(--text);
      }

      select:focus,
      input:focus {
        border-color: var(--primary);
        box-shadow: 0 0 0 4px rgba(108, 99, 255, 0.15);
      }

      /* Buttons */
      button {
        padding: 1rem 2rem;
        font-size: 1.1rem;
        font-weight: 600;
        background: var(--primary);
        color: white;
        border: none;
        border-radius: 50px;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(108, 99, 255, 0.3);
        font-family: "Poppins", sans-serif;
        width: 100%;
        margin-top: 1rem;
      }

      button:hover {
        transform: translateY(-2px);
        background: var(--primary-dark);
      }

      button:disabled {
        background: #b2bec3;
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
      }

      /* Helper Classes & Animations */
      .hidden {
        display: none !important;
      }

      #feedback {
        margin-top: 1rem;
        font-weight: 700;
        min-height: 1.5rem;
        font-size: 1.1rem;
      }

      .correct {
        color: var(--success);
        animation: pop 0.3s;
      }
      .incorrect {
        color: var(--danger);
        animation: shake 0.4s;
      }

      @keyframes pop {
        0% {
          transform: scale(0.8);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      @keyframes shake {
        10%,
        90% {
          transform: translateX(-2px);
        }
        20%,
        80% {
          transform: translateX(2px);
        }
        30%,
        50%,
        70% {
          transform: translateX(-4px);
        }
        40%,
        60% {
          transform: translateX(4px);
        }
      }

      /* =========================================
           RESPONSIVE MEDIA QUERIES
           ========================================= */

      @media (max-width: 480px) {
        #game-container {
          padding: 1.5rem;
          border-radius: 20px;
        }

        h1 {
          font-size: 1.8rem;
          margin-top: 0;
        }

        .stats-bar {
          font-size: 0.75rem;
          padding: 8px 10px;
        }

        .element-tile {
          width: 100px;
          height: 100px;
        }

        .target-val {
          font-size: 3rem;
        }

        button {
          padding: 0.9rem;
          font-size: 1rem;
        }
      }

      @media (max-height: 600px) {
        body {
          align-items: flex-start;
          padding-top: 20px;
          padding-bottom: 20px;
        }

        #game-container {
          padding: 1rem;
        }

        h1 {
          font-size: 1.4rem;
          margin-bottom: 0.2rem;
        }
        #start-screen div {
          font-size: 3rem !important;
          margin-bottom: 0 !important;
        }

        .element-tile {
          width: 90px;
          height: 90px;
          margin-bottom: 0.5rem;
        }
        .target-val {
          font-size: 2.5rem;
        }

        .question-box {
          min-height: auto;
          margin-bottom: 1rem;
        }
      }
    </style>
  </head>
  <body>
    <div id="game-container">
      <div id="start-screen">
        <div style="font-size: 4rem; margin-bottom: 10px">üß™</div>
        <h1>‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏±‡∏¢‡∏£‡∏∏‡πà‡∏ô‡πÄ‡∏•‡πà‡∏ô‡∏ò‡∏≤‡∏ï‡∏∏</h1>
        <p>‡∏´‡∏°‡∏π‡πà A</p>
        <div
          style="
            background: #f1f2f6;
            padding: 12px;
            border-radius: 10px;
            margin: 20px 0;
            display: inline-block;
            width: 100%;
          "
        >
          <div style="display: flex; justify-content: space-around">
            <div>üéØ <strong>10</strong> ‡∏Ñ‡∏£‡∏±‡πâ‡∏á</div>
            <div>‚ö†Ô∏è <strong>2</strong> ‡∏Ñ‡∏£‡∏±‡πâ‡∏á</div>
          </div>
        </div>
        <br />
        <button onclick="startGame()">‡∏à‡∏±‡∏î‡∏°‡∏≤</button>
      </div>

      <div id="game-screen" class="hidden">
        <div class="stats-bar">
          <div class="stat-item">
            ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà: <span id="round-num">1</span>/10
          </div>
          <div class="stat-item">
            ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏°‡∏∂‡∏á:
            <span id="mistake-num" style="color: var(--danger)">2</span>
          </div>
          <div class="stat-item">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: <span id="score-val">0</span></div>
        </div>

        <div id="timer-container">
          <div id="timer-bar"></div>
        </div>

        <div class="question-box">
          <div id="prompt-label" class="question-text">‡∏ö‡∏≠‡∏Å‡∏ò‡∏≤‡∏ï‡∏∏:</div>

          <div id="target-display-container">
            <div id="target-display" class="target-val">H</div>
          </div>
        </div>

        <div id="input-zone" class="input-area"></div>

        <div id="feedback"></div>
        <button id="submit-btn" onclick="checkAnswer()">‡∏•‡∏±‡πà‡∏ô</button>
      </div>

      <div id="end-screen" class="hidden">
        <div id="result-icon" style="font-size: 4rem; margin-bottom: 10px">
          üéâ
        </div>
        <h1 id="result-title">‡∏ú‡∏•</h1>
        <p id="result-msg" style="font-size: 1.1rem; padding: 0 10px"></p>
        <hr style="border: 0; border-top: 2px dashed #dfe6e9; margin: 20px 0" />
        <p>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</p>
        <p><span id="final-score">0</span></p>
        <button onclick="location.reload()">‡πÅ‡∏Å‡πâ</button>
      </div>
    </div>

    <script>
      const elements = [
        { s: "H", n: "Hydrogen", g: "1A", p: 1 },
        { s: "He", n: "Helium", g: "8A", p: 1 },
        { s: "Li", n: "Lithium", g: "1A", p: 2 },
        { s: "Be", n: "Beryllium", g: "2A", p: 2 },
        { s: "B", n: "Boron", g: "3A", p: 2 },
        { s: "C", n: "Carbon", g: "4A", p: 2 },
        { s: "N", n: "Nitrogen", g: "5A", p: 2 },
        { s: "O", n: "Oxygen", g: "6A", p: 2 },
        { s: "F", n: "Fluorine", g: "7A", p: 2 },
        { s: "Ne", n: "Neon", g: "8A", p: 2 },
        { s: "Na", n: "Sodium", g: "1A", p: 3 },
        { s: "Mg", n: "Magnesium", g: "2A", p: 3 },
        { s: "Al", n: "Aluminum", g: "3A", p: 3 },
        { s: "Si", n: "Silicon", g: "4A", p: 3 },
        { s: "P", n: "Phosphorus", g: "5A", p: 3 },
        { s: "S", n: "Sulfur", g: "6A", p: 3 },
        { s: "Cl", n: "Chlorine", g: "7A", p: 3 },
        { s: "Ar", n: "Argon", g: "8A", p: 3 },
        { s: "K", n: "Potassium", g: "1A", p: 4 },
        { s: "Ca", n: "Calcium", g: "2A", p: 4 },
        { s: "Ga", n: "Gallium", g: "3A", p: 4 },
        { s: "Ge", n: "Germanium", g: "4A", p: 4 },
        { s: "As", n: "Arsenic", g: "5A", p: 4 },
        { s: "Se", n: "Selenium", g: "6A", p: 4 },
        { s: "Br", n: "Bromine", g: "7A", p: 4 },
        { s: "Kr", n: "Krypton", g: "8A", p: 4 },
        { s: "Rb", n: "Rubidium", g: "1A", p: 5 },
        { s: "Sr", n: "Strontium", g: "2A", p: 5 },
        { s: "In", n: "Indium", g: "3A", p: 5 },
        { s: "Sn", n: "Tin", g: "4A", p: 5 },
        { s: "Sb", n: "Antimony", g: "5A", p: 5 },
        { s: "Te", n: "Tellurium", g: "6A", p: 5 },
        { s: "I", n: "Iodine", g: "7A", p: 5 },
        { s: "Xe", n: "Xenon", g: "8A", p: 5 },
        { s: "Cs", n: "Cesium", g: "1A", p: 6 },
        { s: "Ba", n: "Barium", g: "2A", p: 6 },
        { s: "Tl", n: "Thallium", g: "3A", p: 6 },
        { s: "Pb", n: "Lead", g: "4A", p: 6 },
        { s: "Bi", n: "Bismuth", g: "5A", p: 6 },
        { s: "Po", n: "Polonium", g: "6A", p: 6 },
        { s: "At", n: "Astatine", g: "7A", p: 6 },
        { s: "Rn", n: "Radon", g: "8A", p: 6 },
        { s: "Fr", n: "Francium", g: "1A", p: 7 },
        { s: "Ra", n: "Radium", g: "2A", p: 7 },
      ];

      const groups = ["1A", "2A", "3A", "4A", "5A", "6A", "7A", "8A"];
      const periods = [1, 2, 3, 4, 5, 6, 7];

      let currentRound = 0;
      let mistakes = 0;
      let maxMistakes = 2;
      let score = 0;
      let timeLeft = 10;
      let timerInterval;
      let currentElement;
      let questionType;
      let usedIndices = new Set();

      function startGame() {
        document.getElementById("start-screen").classList.add("hidden");
        document.getElementById("game-screen").classList.remove("hidden");
        nextRound();
      }

      function nextRound() {
        if (currentRound >= 10) return endGame(true);

        currentRound++;
        document.getElementById("round-num").innerText = currentRound;
        document.getElementById("feedback").innerText = "";
        document.getElementById("submit-btn").disabled = false;

        let idx;
        do {
          idx = Math.floor(Math.random() * elements.length);
        } while (usedIndices.has(idx));
        usedIndices.add(idx);
        currentElement = elements[idx];

        questionType = Math.floor(Math.random() * 3);
        setupUI();
        startTimer();
      }

      function setupUI() {
        const zone = document.getElementById("input-zone");
        const prompt = document.getElementById("prompt-label");
        const display = document.getElementById("target-display");
        zone.innerHTML = "";

        display.className = "target-val";
        display.parentElement.classList.remove("element-tile");

        if (questionType === 0) {
          prompt.innerText = `‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏π‡πà - ‡∏Ñ‡∏≤‡∏ö`;
          display.innerText = currentElement.s;
          display.parentElement.classList.add("element-tile");

          zone.innerHTML = `
                <select id="group-sel"><option value="" disabled selected>‡∏´‡∏°‡∏π‡πà</option>${groups.map((g) => `<option value="${g}">${g}</option>`).join("")}</select>
                <select id="period-sel"><option value="" disabled selected>‡∏Ñ‡∏≤‡∏ö</option>${periods.map((p) => `<option value="${p}">${p}</option>`).join("")}</select>
            `;
        } else if (questionType === 1) {
          prompt.innerText = `‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏π‡πà - ‡∏Ñ‡∏≤‡∏ö`;
          display.innerText = currentElement.n;
          display.classList.add("target-text-only");

          zone.innerHTML = `
                <select id="group-sel"><option value="" disabled selected>‡∏´‡∏°‡∏π‡πà</option>${groups.map((g) => `<option value="${g}">${g}</option>`).join("")}</select>
                <select id="period-sel"><option value="" disabled selected>‡∏Ñ‡∏≤‡∏ö</option>${periods.map((p) => `<option value="${p}">${p}</option>`).join("")}</select>
            `;
        } else {
          prompt.innerText = `‡πÉ‡∏™‡πà‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡∏ò‡∏≤‡∏ï‡∏∏`;
          display.innerText = `‡∏´‡∏°‡∏π‡πà ${currentElement.g}, ‡∏Ñ‡∏≤‡∏ö ${currentElement.p}`;
          display.classList.add("target-text-only");

          zone.innerHTML = `<input type="text" id="symbol-in" placeholder="e.g. He" autocomplete="off" maxlength="2">`;
          setTimeout(() => {
            const input = document.getElementById("symbol-in");
            if (input) input.focus();
          }, 100);
        }
      }

      function startTimer() {
        clearInterval(timerInterval);
        timeLeft = 10;
        updateTimerBar();

        timerInterval = setInterval(() => {
          timeLeft -= 0.1;
          updateTimerBar();
          if (timeLeft <= 0) {
            clearInterval(timerInterval);
            handleMistake("Time's up!");
          }
        }, 100);
      }

      function updateTimerBar() {
        const bar = document.getElementById("timer-bar");
        const percentage = (timeLeft / 10) * 100;
        bar.style.width = `${percentage}%`;

        if (percentage > 60) bar.style.background = "#00b894";
        else if (percentage > 30) bar.style.background = "#fdcb6e";
        else bar.style.background = "#ff7675";
      }

      function checkAnswer() {
        clearInterval(timerInterval);
        let isCorrect = false;

        if (questionType === 0 || questionType === 1) {
          const g = document.getElementById("group-sel").value;
          const p = document.getElementById("period-sel").value;

          if (!g || !p) {
            handleMistake("Incomplete!");
            return;
          }

          isCorrect =
            g === currentElement.g && parseInt(p) === currentElement.p;
        } else {
          const s = document.getElementById("symbol-in").value.trim();
          isCorrect = s.toLowerCase() === currentElement.s.toLowerCase();
        }

        const feedback = document.getElementById("feedback");

        if (isCorrect) {
          score++;
          document.getElementById("score-val").innerText = score;
          feedback.innerText = "Correct! Well done.";
          feedback.className = "correct";
          document.getElementById("submit-btn").disabled = true;
          setTimeout(nextRound, 1200);
        } else {
          handleMistake("Wrong Answer!");
        }
      }

      function handleMistake(msg) {
        mistakes++;
        document.getElementById("mistake-num").innerText = Math.max(
          0,
          maxMistakes - mistakes + 1,
        );

        const feedback = document.getElementById("feedback");
        feedback.innerText = msg;
        feedback.className = "incorrect";
        feedback.style.animation = "none";
        feedback.offsetHeight;
        feedback.style.animation = null;

        if (mistakes > maxMistakes) {
          document.getElementById("mistake-num").innerText = "0";
          setTimeout(() => endGame(false), 1000);
        } else {
          setTimeout(nextRound, 1200);
        }
      }

      function endGame(passed) {
        document.getElementById("game-screen").classList.add("hidden");
        document.getElementById("end-screen").classList.remove("hidden");

        const title = document.getElementById("result-title");
        const msg = document.getElementById("result-msg");
        const icon = document.getElementById("result-icon");

        if (passed) {
          title.innerText = "‡∏™‡∏ß‡∏¢‡∏ô‡πâ‡∏≠‡∏á";
          title.style.color = "var(--success)";
          msg.innerText = "‡∏û‡∏≠‡πÉ‡∏ä‡πâ ‡∏û‡∏µ‡πà‡∏°‡∏≠‡∏™‡∏õ‡∏•‡∏∑‡πâ‡∏°";
          icon.innerText = "üèÜ";
        } else {
          title.innerText = "‡πÄ‡∏Å‡∏°‡∏ß‡πà‡∏∞";
          title.style.color = "var(--danger)";
          msg.innerText = "‡∏≠‡∏¢‡πà‡∏≤‡∏°‡∏∂‡∏ô‡∏î‡∏¥ ‡πÑ‡∏õ‡∏≠‡πà‡∏≤‡∏ô‡∏°‡∏≤‡πÉ‡∏´‡∏°‡πà";
          icon.innerText = "üí•";
        }
        document.getElementById("final-score").innerText = score;
      }
    </script>
  </body>
</html>
